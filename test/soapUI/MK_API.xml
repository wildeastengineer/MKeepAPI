<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="1fc6a94f-17e6-4e8a-b22c-3ece7118655a" activeEnvironment="Default" name="Money Keeper locall" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="http://localhost:8080 TestSuite"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="d955184a-66fe-475c-be08-319085c9e59e" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:8080" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:8080</con:endpoint></con:endpoints><con:resource name="Api" path="/api/" id="fbcfa74c-da44-4247-a1e7-81469baf227c"><con:settings/><con:parameters/><con:method name="Api" id="0d927f05-2355-4029-a429-6c55a9f0deb9" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:api="http://localhost/api/">api:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="ea152c7f-2d01-45a5-94e2-a5b6c57d4f41" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource><con:resource name="authenticate" path="/api/authenticate" id="07a05563-7a32-41d9-a622-4996d81be277"><con:settings/><con:parameters><con:parameter><con:name>Content-Type</con:name><con:value>application/x-www-form-urlencoded</con:value><con:style>HEADER</con:style><con:default>application/x-www-form-urlencoded</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="auth" id="7b4e4403-4893-4186-a788-4acf7aa56ab6" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>multipart/form-data</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>multipart/mixed</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:aut="http://localhost/api/authenticate">aut:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>400 403</con:status><con:params/><con:element xmlns:aut="http://localhost/api/authenticate">aut:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="01eb727d-a9a7-490a-810b-2ba35da65c72" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>grant_type=password&amp;client_id=MKWebAppV1&amp;client_secret=mbO2FdS451lEz0fM8FlSM3n1rbokBSyy&amp;username=test%40test.com&amp;password=123456</con:request><con:originalUri>http://localhost/api/authenticate</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>Content-Type</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="registration" path="/api/registration" id="924110bf-732d-41d8-bf59-7edb5a2fc45f"><con:settings/><con:parameters/><con:method name="Reg New User" id="97408481-6d4a-4352-acbe-096fe090780f" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>x-www-from-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:reg="http://localhost/api/registration">reg:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="d611a0b7-2eab-4d4b-a0cc-db5497e65248" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="projects" path="/api/projects" id="926b086a-b361-422e-aff3-ab08fe97847e"><con:settings/><con:parameters><con:parameter><con:name>access_token</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter></con:parameters><con:resource name="id" path="{id}" id="17caea76-8d0a-4130-9aeb-d84e757e0ec4"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/></con:parameter></con:parameters><con:resource name="categories" path="categories" id="dd92b09a-91ed-4769-9d30-ebcefdc2098e"><con:settings/><con:parameters/><con:resource name="{categoryId}" path="{categoryId}" id="5a927b2b-4cac-4057-b33c-889874133279"><con:settings/><con:parameters><con:parameter><con:name>categoryId</con:name><con:value>categoryId</con:value><con:style>TEMPLATE</con:style><con:default>categoryId</con:default></con:parameter></con:parameters><con:method name="PATCH - Update given category" id="8415b842-302d-46ba-affc-740fd5dd209d" method="PATCH"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="e13bb3c8-ffe9-469c-abec-529ca97a3e4c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{
	"category": {
		"name": "CHANGED CATEGORY 66666",
		"categoryType": "expense"
	}	
}</con:request><con:originalUri>http://localhost/api/projects/578885fc733e797d1b199da8/categories/58a0d79868ce5f516aa3d615</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="categoryId" value="58a9afc24f1b284e8a066306"/>
  <con:entry key="access_token" value="f5e4938a227ffa0299aff21030ed76b2"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry><con:entry>categoryId</con:entry></con:parameterOrder></con:request></con:method><con:method name="DELETE - Delete given category" id="79ef8fff-8a1b-4d04-9fc9-5e3914b59733" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>500 404 405</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="b90ba7b1-143f-4684-8e3f-62fb05871c6a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects/5779345b2e2a8d1d4f000001/categories/58a8957d1b0ded3ffd4c3155</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="5779345b2e2a8d1d4f000001"/>
  <con:entry key="categoryId" value="58a8a5eaadc6f3450feeeb1b"/>
  <con:entry key="access_token" value="bc2bc27aa92a4dcd8af3fd29cad8eb4c"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry><con:entry>categoryId</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:method name="GET - Categories by Project id" id="253dfb32-9e61-4539-92f7-89c0fed43fe5" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="abe8bf23-dd50-436b-9cf7-e9eebbfbaa1f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects/578885fc733e797d1b199da8/categories</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="5779345b2e2a8d1d4f000001"/>
  <con:entry key="access_token" value="f5e4938a227ffa0299aff21030ed76b2"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry></con:parameterOrder></con:request></con:method><con:method name="PUT - Add new Category to Project" id="0e51d82a-1cc6-43e0-bf38-38c8259ac04b" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>405 400 500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="b8fedb59-565e-4440-a852-1a21cab7e529" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{
	"category": {
		"name": "NEW CATEGORY",
		"categoryType": "income"
		
	}	
}</con:request><con:originalUri>http://localhost/api/projects/578885fc733e797d1b199da8/categories</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="5779345b2e2a8d1d4f000001"/>
  <con:entry key="access_token" value="77f3fa9269c44934b18a377ccde19ee5"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="currencies" path="currencies" id="7f376f31-3a98-4018-bcee-c64c5ee24e30"><con:settings/><con:parameters/><con:resource name="main" path="main" id="6b2f8e52-7678-4f1a-a262-ec7956b46071"><con:settings/><con:parameters/><con:method name="PATCH - Update Project Main Currency" id="0c44283d-a870-49ed-9255-cdb61ee3d24a" method="PATCH"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Request 1" id="d1732e64-5091-461d-9e6a-3e9960f87792" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:method name="PATCH - Add Project Currencies" id="fe1326b8-aee3-4507-b0c9-3994a8119d4e" method="PATCH"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>500 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="7a5feb3d-e25c-4a06-853d-d1f58c7377e4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{"currencies": ["578c6ef6832cff3b2cca138e", "578c6ef6832cff3b2cca138f", "578c6ef6832cff3b2cca1390", "578c6ef6832cff3b2cca1391"]}</con:request><con:originalUri>http://localhost/api/projects/5779345b2e2a8d1d4f000001/currencies</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="5779345b2e2a8d1d4f000001"/>
  <con:entry key="access_token" value="f5e4938a227ffa0299aff21030ed76b2"/>
</con:parameters></con:request></con:method></con:resource><con:resource name="rename" path="rename" id="307c13d7-b04e-4adc-868c-ce2cc5031d9f"><con:settings/><con:parameters/><con:method name="PATCH - Rename Project" id="508f1706-22d4-4efd-ba19-01eb07dca13d" method="PATCH"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Request 1" id="cada3649-da07-41c3-966b-fb71120e6354" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:method name="GET - Get Project by Id" id="104f0351-f310-45e8-b8fe-2a01f1bbfa5d" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>400 404 405</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cat="http://localhost/api/projects/categories">cat:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="e4df8ff7-c435-492e-975d-5fc2bcb4aae4" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects/categories</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="5779345b2e2a8d1d4f000001"/>
  <con:entry key="access_token" value="f5e4938a227ffa0299aff21030ed76b2"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:method name="POST - New Project" id="b2f4fae0-e4dc-4b7b-b2ae-1f2a53dd907c" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:proj="http://localhost/project">proj:Response</con:element></con:representation><con:request name="Request 1" id="78c323b4-733c-465f-b945-abb4d541f734" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/project</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="879d0fe70c851ab07450db7a958b45fd" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:request></con:method><con:method name="GET - Get all Projects" id="757310fa-dff3-467a-b252-de705bc17d18" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="7ccde347-20eb-41b0-b6e2-95678d5bc669" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="f5e4938a227ffa0299aff21030ed76b2" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource><con:resource name="profile" path="/api/profile" id="f0c2a8ff-1001-41c6-97b7-dcc60117b002"><con:settings/><con:parameters><con:parameter><con:name>access_token</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:method name="GET - User profile" id="3ea80563-f0cf-4080-af94-b9d634aa427c" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404 500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:prof="http://localhost/profile">prof:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="3e6e8a1e-ac9d-4296-85c6-53b5e5abe895" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/profile</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="ea9f2abf91a97d12c197cf60af379c3e" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="send-recover-password-token" path="/api/send-recover-password-token" id="d784d749-2985-4cf1-9ed5-3bcd455336e4"><con:settings/><con:parameters/><con:method name="POST - Send recover password" id="4ceb9a3d-5491-4b82-a38f-5e989415b752" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="baf7f442-e69c-4845-8b91-5cce42b20e07" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/send-recover-password-token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource><con:resource name="recover-password" path="/api/recover-password" id="72f14cf1-7178-47cc-9f4c-dde5631ea1bd"><con:settings/><con:parameters/><con:method name="POST - Recover password" id="b1ca15ed-4da5-4775-8b19-b1f69c54b6c9" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="2945dfc3-e0d5-4378-b9b7-8c2d07161857" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>username=${#TestSuite#username}%40test.com&amp;newPassword=${#TestSuite#password}&amp;token=""</con:request><con:originalUri>http://localhost/api/recover-password</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="currencies" path="/api/currencies" id="83f97634-b305-4ac8-97b1-b317af4aa7f6"><con:settings/><con:parameters><con:parameter><con:name>access_token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Get All Currencies" id="6cab7f76-2d8a-4225-befd-7f349d8f7d5c" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="62a21e3f-b619-420c-a598-0e84c8c1b15c" mediaType="application/json"><con:settings/><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="${#TestSuite#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="a399cdc2-1cbe-4ed0-af3f-3159a12b415c" name="http://localhost:8080 TestSuite"><con:description>TestSuite generated for REST Service [http://localhost:8080]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="fc974370-5c01-45a8-b896-f6a22bfd1a7e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Authenticate" searchProperties="true" disabled="true"><con:description>TestCase generated for REST Resource [authenticate] located at [/api/authenticate]</con:description><con:settings/><con:testStep type="restrequest" name="Auth Request" id="4050d594-141f-4fd2-9b86-61f4f8d8ec3f"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/authenticate" methodName="auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Auth Request" id="01eb727d-a9a7-490a-810b-2ba35da65c72" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>grant_type=password&amp;client_id=${#Project#client_id}&amp;client_secret=${#Project#client_secret}&amp;username=${#TestSuite#username}%40test.com&amp;password=${#TestSuite#password}</con:request><con:originalUri>http://localhost/api/authenticate</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="21d8a116-1e5d-4f50-85bf-572468599779" name="Status"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a4aa4dc0-045a-469a-9984-d83e1bb93e52" name="access_token"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="72ca6ada-94ff-4cf1-bf1a-546e65a8be6a" name="refresh_token"><con:configuration><path>$.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="eef8cab7-c0cc-43a0-9a24-86a0b83c8802" name="expires_in"><con:configuration><path>$.expires_in</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="5d33ce8c-e728-4209-8975-3cbe66dfb6fc" name="token_type"><con:configuration><path>$.token_type</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d0730d6b-d6e8-4dab-a37c-c97b15abdcca" name="userProfile"><con:configuration><path>userProfile</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>Content-Type</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Set access_token to TestSuite prop" id="52701852-e203-4314-8bd1-1c387738acd5"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def access_token
def refresh_token
def response
def jslurper = new JsonSlurper()
def authRequest = getRequestTestStep()

response = jslurper.parseText(authRequest.testRequest.response.responseContent )

access_token = response.access_token
refresh_token = response.refresh_token

testRunner.testCase.testSuite.setPropertyValue("access_token", access_token)
testRunner.testCase.testSuite.setPropertyValue("refresh_token", refresh_token)

/// PRIVATE FUNCTIONS
def getRequestTestStep(testCase=null) {
	def requestTestStep = null
	def testSteps = testCase ? testCase.getTestStepList() : context.testCase.getTestStepList()
	
	testSteps.eachWithIndex{testStep, i ->
		if (testStep.config.type == 'restrequest') {
			requestTestStep = testStep
		}
	}

	return requestTestStep
}</script></con:config></con:testStep><con:tearDownScript/><con:properties/></con:testCase><con:testCase id="8deb053d-b867-46e8-bed9-d2edbe68d09e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="recover-password TestCase" searchProperties="true" disabled="true"><con:description>TestCase generated for REST Resource [recover-password] located at [/api/recover-password]</con:description><con:settings/><con:testStep type="restrequest" name="Request 1" id="a2ed4e84-7873-4a3d-867d-a64b6ffbae19"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/recover-password" methodName="POST - Recover password" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="2945dfc3-e0d5-4378-b9b7-8c2d07161857" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="ae2c86fa-7a92-4fa8-9c3b-3d32fb245ab0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Api TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [Api] located at [/api/]</con:description><con:settings/><con:testStep type="restrequest" name="Request 1" id="9bef8aa6-9688-49f0-b7ba-43c947c01711"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/" methodName="Api" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="ea152c7f-2d01-45a5-94e2-a5b6c57d4f41" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="de7a1bcf-9ec6-466d-8b84-91460b8143ba" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="d588b8d6-1cbd-4895-b233-f998df6b7311" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Register new User TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [registration] located at [/api/registration]</con:description><con:settings/><con:testStep type="groovy" name="Register new User" id="64d195fc-96e7-4c96-af08-95cc0ddc447e"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def jslurper = new JsonSlurper()
def password = "123456"
def username = "SoapUI-${new Date().getTime()}"
def testRun

// set test suite properties "usename" and "password"
testRunner.testCase.testSuite.setPropertyValue("username", username)
testRunner.testCase.testSuite.setPropertyValue("password", password)

// run test step
testRun = getRequestTestStep().run(testRunner, context)

// validate recived JSON contains username
assert jslurper.parseText(testRun.response.responseContent).userProfile.username.contains(username)

/// PRIVATE FUNCTIONS
def getRequestTestStep() {
	def requestTestStep = null
	def testSteps = context.testCase.getTestStepList()

	testSteps.eachWithIndex{testStep, i ->
		if (testStep.config.type == 'restrequest') {
			requestTestStep = testStep
		}
	}

	return requestTestStep
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="02091b53-094b-465a-abd8-c193f4323854" disabled="true"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/registration" methodName="Reg New User" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="d611a0b7-2eab-4d4b-a0cc-db5497e65248" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>client_id=${#Project#client_id}&amp;username=${#TestSuite#username}%40test.com&amp;password=${#TestSuite#password}</con:request><con:originalUri>http://localhost/api/registration</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f3e57110-a7c4-49b0-9095-4578b3084dc1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="e52c0b25-9fde-42a7-91ae-3809dbd74a5f" name="validate activeProject == null"><con:configuration><path>$.userProfile.activeProject</path><content>null</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="efa2139d-ca08-452b-8bf9-52139a72b3ff" name="validate projects == []"><con:configuration><path>$.userProfile.projects</path><content>[]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="45b77b30-6dd9-47cb-bf37-bc6702f8cf8e" name="validate lang exists"><con:configuration><path>$.userProfile.lang</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="ac125d6f-d802-40e2-a692-ffe3f1f6c587" name="validate hashPassword doesn't exist"><con:configuration><path>$.userProfile.hashPassword</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="5262e2e8-0670-4db4-8370-f47dea09b92f" name="validate access_token"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="738b8deb-c334-4d52-93bc-18e73a6d8bac" name="validate refresh_token"><con:configuration><path>refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="d0647bf8-bc29-46fa-b1f0-42998d1a8702" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="send-recover-password-token TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [send-recover-password-token] located at [/api/send-recover-password-token]</con:description><con:settings/><con:testStep type="restrequest" name="Request 1" id="b40d9e4c-06bc-4a7a-8247-c7fc065b97cd"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/send-recover-password-token" methodName="POST - Send recover password" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="baf7f442-e69c-4845-8b91-5cce42b20e07" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>username=${#TestSuite#username}%40test.com&amp;redirectUrl="http://localhost:8080"</con:request><con:originalUri>http://localhost/api/send-recover-password-token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="75d8282c-0ca0-47b0-817a-524ddcd36ea8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c82cb5c7-71bb-41c0-ae9d-7a285b19bb7a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get User's profile TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [profile] located at [/api/profile]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="8cb41c3b-7e51-4c9a-b975-bb26d2ed9daa"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="c86a4832-a5bf-4381-aef1-62c2e52226f2"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/profile" methodName="GET - User profile" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="3e6e8a1e-ac9d-4296-85c6-53b5e5abe895" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/profile</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4da7c51b-b243-4260-a8bd-2de197aa3083" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="1e70ce44-bff8-4570-8b43-d3f318ac8f5d" name="username"><con:configuration><path>username</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="62c2a11d-6445-4033-9a0f-f61872e3a8fe" name="hashedPassword"><con:configuration><path>hashedPassword</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a943739d-f3e7-4faf-b358-2868e491c97a" name="salt"><con:configuration><path>salt</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="c7eea733-4410-4cbe-8552-e1713d255248" name="projects"><con:configuration><path>projects</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="84d66bb2-de26-480c-af95-e2dac3aa67ff" name="activeProject"><con:configuration><path>activeProject</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="${#TestSuite#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript/><con:properties/></con:testCase><con:testCase id="0558ea35-122a-4ea8-b6a5-03edeeb61eaa" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create Project" searchProperties="true"><con:description>TestCase generated for REST Resource [projects] located at [/api/projects]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="0ecc5246-57db-49d4-b46a-051d70c569f3"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="39257cc0-5729-46cb-a525-43f74310532e"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects" methodName="POST - New Project" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="78c323b4-733c-465f-b945-abb4d541f734" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/project</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b09eea69-c9c3-4932-9729-54a22e8cac96" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="31b1b4ff-8039-4e05-a7d9-d3e2136b8a8e" name="name"><con:configuration><path>name</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="774f31c7-3d53-485c-9965-77ceab46fde5" name="users"><con:configuration><path>users</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d70abda7-13c8-4ae0-ad07-08b1496e96ab" name="owners"><con:configuration><path>owners</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="d18a47c3-22e3-49fe-973c-23f8109b54b1" name="widgets"><con:configuration><path>widgets</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="5aa8dbcb-9dcc-4bb1-85c3-3e0c634d4a18" name="categories"><con:configuration><path>categories</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="b9ae1584-ecaa-45db-b27e-8cc4e828ff5e" name="currencies"><con:configuration><path>currencies</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="55d82fd1-eaa3-4f47-9f79-25586aec8b9c" name="accounts"><con:configuration><path>accounts</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="${#TestSuite#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Set project id to TestSuite prop" id="0baaadd8-85ed-4a19-b89d-c2112965d8b9"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def project_id
def jslurper = new JsonSlurper()
def request = getRequestTestStep()

project_id = jslurper.parseText(request.testRequest.response.responseContent )._id

testRunner.testCase.testSuite.setPropertyValue("project_id", project_id)

/// PRIVATE FUNCTIONS
def getRequestTestStep(testCase=null) {
	def requestTestStep = null
	def testSteps = testCase ? testCase.getTestStepList() : context.testCase.getTestStepList()
	
	testSteps.eachWithIndex{testStep, i ->
		if (testStep.config.type == 'restrequest') {
			requestTestStep = testStep
		}
	}

	return requestTestStep
}</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="f1ce4768-3201-4a15-b5ec-e3ff24d4de88" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get project by Id" searchProperties="true"><con:description>TestCase generated for REST Resource [id] located at [/api/projects/{id}]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="686bb575-6481-4cae-87d1-51f8cc02bb23"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="28cdcbf7-be82-4fd1-bb5f-a4fb4fa79e14"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects/{id}" methodName="GET - Get Project by Id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="e4df8ff7-c435-492e-975d-5fc2bcb4aae4" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects/categories</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="10d88192-f9e2-4cc8-ab57-81fb05a34874" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a2d48e60-c61d-4ac3-9e07-e6571465118e" name="name"><con:configuration><path>name</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="055f9bf8-ed88-420b-85e8-1e9b2abfdf4b" name="owners"><con:configuration><path>owners</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="099e55bd-7b7c-4ea9-a8d7-6747dbac45a3" name="users"><con:configuration><path>users</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="7145e0ac-3571-4a91-9bf6-bf7f5c1d8543" name="widgets"><con:configuration><path>widgets</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="591d3d0a-d2c9-478c-93c3-8214ce29733c" name="JsonPath Existence Match"><con:configuration><path>categories</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="1bf2ddda-bd0c-45f0-b56f-20cf3c44b857" name="currencies"><con:configuration><path>currencies</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="5569b449-2d17-4d74-8d00-36c892312b35" name="accounts"><con:configuration><path>accounts</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7226211a-8307-495b-81f5-062c5a48ce36" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Rename project" searchProperties="true"><con:description>TestCase generated for REST Resource [id] located at [/api/projects/{id}]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="c6e039e4-7f1e-465e-adb8-c82f3d3d4a22"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Rename Project" id="25bc41ee-4e3c-49cc-941f-d50f64c9e9bc"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def jslurper = new JsonSlurper()
def newProjectName = "New Project name - ${new Date().getTime()}"
def testRun

// set test suite properties 
testRunner.testCase.testSuite.setPropertyValue("new_project_name", newProjectName)

// run test step
testRun = getRequestTestStep().run(testRunner, context)

// validate recived response
assert testRun.response.responseContent == "\"${newProjectName}\""

/// PRIVATE FUNCTIONS
def getRequestTestStep() {
	def requestTestStep = null
	def testSteps = context.testCase.getTestStepList()

	testSteps.eachWithIndex{testStep, i ->
		if (testStep.config.type == 'restrequest') {
			requestTestStep = testStep
		}
	}

	return requestTestStep
}</script></con:config></con:testStep><con:testStep type="restrequest" name="REST 1" id="fa361762-5a4d-4c6c-ba35-3de1cc44efd3" disabled="true"><con:settings/><con:config service="http://localhost:8080" methodName="PATCH - Rename Project" resourcePath="/api/projects/{id}/rename" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST 1" id="b17fb8d2-cb37-43f8-9b3b-1fe6983d8c3b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080</con:endpoint><con:request>{"name": "${#TestSuite#new_project_name}"}</con:request><con:originalUri>http://localhost/api/projects/58ce998ce39cef6281069d2f/rename</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d5f69fac-f655-4b57-9aeb-c4cd00a969fc" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="1adf289e-d73d-4b12-bde3-ed1ed0d1a1f8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get all User's projects TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [projects] located at [/api/projects]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="06eff203-bf20-4dae-9686-36df79a0dd31"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1 1" id="9692d916-30df-49c2-9288-8f6dcabf5ff6"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects" methodName="GET - Get all Projects" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1 1" id="7ccde347-20eb-41b0-b6e2-95678d5bc669" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7da09faf-dbcb-48e7-901f-98fdb730d414" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="324226b8-d5da-4e92-af39-d99a34b23f2c" name="name"><con:configuration><path>$.[0].name</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="bd81abba-74b6-45e2-92e7-b5ea843e9eda" name="owners"><con:configuration><path>$[0].owners</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="efa85312-8800-47cd-b16d-d7c85e262ef5" name="users"><con:configuration><path>$[0].users</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="11c08a27-bf2a-4d2e-b333-9a965107b777" name="widgets"><con:configuration><path>$[0].widgets</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="477dbeb6-dd0b-4453-8959-e212d846f556" name="categories"><con:configuration><path>$[0].categories</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="389ec968-e941-4b7c-bcda-e144108e474b" name="currencies"><con:configuration><path>$[0].currencies</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="33e15e00-0c44-4f7b-ae93-ee8bb56720b4" name="accounts"><con:configuration><path>$[0].accounts</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="${#TestSuite#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c0ccb5fb-0d12-45e0-a5e3-1aaa4ebf857c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get all Currencies" searchProperties="true"><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="362da09b-212b-4874-a1a4-eaaa8dbd850b"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request" id="aa29ab37-d167-4e21-859b-6ef8f3168ac3"><con:settings/><con:config service="http://localhost:8080" methodName="Get All Currencies" resourcePath="/api/currencies" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request" id="7dd74208-03bf-4a23-bf90-8fa7a43a4be2" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/currencies</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1b6fe444-7732-41a8-b44f-bdfd0bca99ec" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f717ab8f-dc4a-431e-a05e-5775f7c1e986" name="iso"><con:configuration><path>$.[0].iso</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="4ff8018d-5484-477c-877e-99509dd46599" name="sign"><con:configuration><path>$.[0].sign</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="fe14febe-4b61-4d22-b475-31f02bbd5f8c" name="country"><con:configuration><path>$.[0].country</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="access_token" value="${#TestSuite#access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Set Currencies to Test Suite props" id="11f9a803-2210-4378-adb9-a9b6af20637f"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def currencies
def project_currencies = []
def mainCurrency
def jslurper = new JsonSlurper()
def request = getRequestTestStep()

currencies = jslurper.parseText(request.testRequest.response.responseContent)

for (def i = 0; i &lt; 5; i++) {
	int randomIndex = (int)(Math.random()*currencies.size())
	log.info randomIndex
	log.info currencies[randomIndex]._id

	if (!project_currencies.contains("\"${currencies[randomIndex]._id}\"")) {
		project_currencies.add("\"${currencies[randomIndex]._id}\"")
	}
	
	if (i == 4) {
		mainCurrency = currencies[randomIndex]._id
	}
}

log.info mainCurrency
log.info project_currencies

testRunner.testCase.testSuite.setPropertyValue("project_currencies", project_currencies.toString())
testRunner.testCase.testSuite.setPropertyValue("project_mainCurrency", mainCurrency)

/// PRIVATE FUNCTIONS
def getRequestTestStep(testCase=null) {
	def requestTestStep = null
	def testSteps = testCase ? testCase.getTestStepList() : context.testCase.getTestStepList()
	
	testSteps.eachWithIndex{testStep, i ->
		if (testStep.config.type == 'restrequest') {
			requestTestStep = testStep
		}
	}

	return requestTestStep
}</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="906ab19a-6a61-4aba-9f9d-0826cb3c043c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Update project currencies TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [currencies] located at [/api/projects/{id}/currencies]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Aurh" id="86a1f1ff-8c72-495c-af16-6b9b2fa931cb"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="1c17f32c-8141-4e2b-8ae3-4bb2ba01029a"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects/{id}/currencies" methodName="PATCH - Add Project Currencies" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="7a5feb3d-e25c-4a06-853d-d1f58c7377e4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{"currencies": ${#TestSuite#project_currencies}}</con:request><con:originalUri>http://localhost/api/projects/5779345b2e2a8d1d4f000001/currencies</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="32fcbd7e-7aab-4ec9-af14-35efe5e0d2ed" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="a2fff280-1f69-4d69-8ff5-186ad12f4852" name="JsonPath Match"><con:configuration><path>$[?(@._id)]._id</path><content>${=${#TestSuite#project_currencies}.toString().replaceAll('"', "")}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="456dff18-c6f8-42ac-b8cb-07fa640b7a85" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Update project main currency TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [currencies] located at [/api/projects/{id}/currencies]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="9079a1e8-85a9-44cd-9555-1a0c1421bc5a"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="50cca94f-52f0-476d-ba92-aba2c78ced0c"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects/{id}/currencies/main" methodName="PATCH - Update Project Main Currency" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="d1732e64-5091-461d-9e6a-3e9960f87792" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{"mainCurrency": "${#TestSuite#project_mainCurrency}"}</con:request><con:originalUri>http://localhost/api/projects//currencies/main</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a305b72e-2b08-477a-bc56-63d438f7c4d7" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="79b257bf-b598-4449-b2f9-c7ca9bba9be1" name="JsonPath Match"><con:configuration><path>$._id</path><content>${#TestSuite#project_mainCurrency}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c6a28749-984b-4330-9edf-204672856d61" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Add project category TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [categories] located at [/api/projects/{id}/categories]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="f3da3e54-6b90-4fcf-a359-155ab0d8776e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Add new Category" id="a3ce6886-aaf8-41fb-af7b-8343699d7225"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def jslurper = new JsonSlurper()
def addedCategory
def newCategory = """{
	"category": {
		"name": "New Category - ${new Date().getTime()}",
		"categoryType" : "income",
		"parent": null
	}
}"""
def testRun

// set request body
getRequestTestStep().setPropertyValue("Request", newCategory)

//convert string to JSON
newCategory = jslurper.parseText(newCategory)

// run test step
testRun = getRequestTestStep().run(testRunner, context)

addedCategory = jslurper.parseText(testRun.response.responseContent)

// validate recived response
assert  addedCategory.name== newCategory.category.name
assert  addedCategory.categoryType== newCategory.category.categoryType

// set test suite properties 
testRunner.testCase.testSuite.setPropertyValue("project_category", addedCategory._id)

/// PRIVATE FUNCTIONS
def getRequestTestStep() {
	def requestTestStep = null
	def testSteps = context.testCase.getTestStepList()

	testSteps.eachWithIndex{testStep, i ->
		if (testStep.config.type == 'restrequest') {
			requestTestStep = testStep
		}
	}

	return requestTestStep
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Request 1 1" id="3642e57f-ab06-4951-9b42-b36e14fa5ca2" disabled="true"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects/{id}/categories" methodName="PUT - Add new Category to Project" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1 1" id="b8fedb59-565e-4440-a852-1a21cab7e529" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{
	"category": {
		"name": "New Category - 1495195278733",
		"categoryType" : "income",
		"parent": null
	}
}</con:request><con:originalUri>http://localhost/api/projects/578885fc733e797d1b199da8/categories</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d606c018-81ef-45dc-a47d-0caa290ee1a3" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="eb72b3a3-ed2a-40bc-a40d-58cbac045a69" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get project categories TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [categories] located at [/api/projects/{id}/categories]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="141123f8-c8b4-4bc4-a324-1c490d0cecab"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="13ad297e-fbe5-4c7d-9bec-dc8f6fd08cfa"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects/{id}/categories" methodName="GET - Categories by Project id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="abe8bf23-dd50-436b-9cf7-e9eebbfbaa1f" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects/578885fc733e797d1b199da8/categories</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6f4c9930-04e3-40b0-a635-70a3efdd2b28" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="cc4d7f10-ec31-4044-ad8f-43e05424591b" name="_id"><con:configuration><path>$.[0]._id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a3ce4be8-215c-4040-b7dc-966884a40c35" name="name"><con:configuration><path>$[0].name</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="83cacebb-decf-45b2-ac70-f2aff760a498" name="categoryType"><con:configuration><path>$.[0].categoryType</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="176068a8-3039-4692-8cfc-8050869cb059" name="parent"><con:configuration><path>$.[0].parent</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters><con:parameterOrder><con:entry>access_token</con:entry><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="47ee6bea-eac3-42d8-ac50-0d0f8e9bd2f3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Update project category TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [{currencyId}] located at [/api/projects/{id}/categories/{currencyId}]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="acb46851-a542-406a-83c0-c9192b64b886"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Update Category" id="c8d46ae5-6e7f-4d36-96fd-595451ffa6ec"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def jslurper = new JsonSlurper()
def updatedCategory
def newCategory = """{
	"category": {
		"name": "Updated name Category - ${new Date().getTime()}",
		"categoryType" : "expense",
		"parent": null
	}
}"""
def testRun

// set request body
getRequestTestStep().setPropertyValue("Request", newCategory)

//convert string to JSON
newCategory = jslurper.parseText(newCategory)

// run test step
testRun = getRequestTestStep().run(testRunner, context)

updatedCategory = jslurper.parseText(testRun.response.responseContent)

// validate recived response
assert  updatedCategory._id == testRunner.testCase.testSuite.getPropertyValue("project_category")
assert  updatedCategory.name == newCategory.category.name
assert  updatedCategory.categoryType == newCategory.category.categoryType

/// PRIVATE FUNCTIONS
def getRequestTestStep() {
	def requestTestStep = null
	def testSteps = context.testCase.getTestStepList()

	testSteps.eachWithIndex{testStep, i ->
		if (testStep.config.type == 'restrequest') {
			requestTestStep = testStep
		}
	}

	return requestTestStep
}</script></con:config></con:testStep><con:testStep type="restrequest" name="Request 1" id="81d1819c-7064-48a5-96a3-7fff1cdb6bd5" disabled="true"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects/{id}/categories/{categoryId}" methodName="PATCH - Update given category" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="e13bb3c8-ffe9-469c-abec-529ca97a3e4c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{
	"category": {
		"name": "Updated name Category - 1495195278906",
		"categoryType" : "expense",
		"parent": null
	}
}</con:request><con:originalUri>http://localhost/api/projects/578885fc733e797d1b199da8/categories/58a0d79868ce5f516aa3d615</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="44742cf6-6a64-4a1e-94bf-0cf1b60201af" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="currencyId" value="${#TestSuite#project_category}"/>
  <con:entry key="categoryId" value="${#TestSuite#project_category}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="f807b132-c2c0-4db5-80f6-d0d7ed6b8272" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Delete project category TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [{currencyId}] located at [/api/projects/{id}/categories/{currencyId}]</con:description><con:settings/><con:testStep type="calltestcase" name="Run Auth" id="f2411910-846b-49a9-9081-ceea8654ebb7"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>fc974370-5c01-45a8-b896-f6a22bfd1a7e</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="restrequest" name="Request 1 1" id="360033c2-c915-4fab-b877-e3928f188e62"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/projects/{id}/categories/{categoryId}" methodName="DELETE - Delete given category" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1 1" id="b90ba7b1-143f-4684-8e3f-62fb05871c6a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/api/projects/5779345b2e2a8d1d4f000001/categories/58a8957d1b0ded3ffd4c3155</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c2734232-b1c8-46dc-8fee-1c3f29b52541" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="id" value="${#TestSuite#project_id}"/>
  <con:entry key="currencyId" value="${#TestSuite#project_category}"/>
  <con:entry key="categoryId" value="${#TestSuite#project_category}"/>
  <con:entry key="access_token" value="${#TestSuite#access_token}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="8471b11c-7382-4429-8927-5ba16c94817c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Authenticate via Refresh token" searchProperties="true"><con:description>TestCase generated for REST Resource [authenticate] located at [/api/authenticate]</con:description><con:settings/><con:testStep type="restrequest" name="Auth Request" id="f7f12045-e043-4f28-b832-862d1d607f3b"><con:settings/><con:config service="http://localhost:8080" resourcePath="/api/authenticate" methodName="auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Auth Request" id="01eb727d-a9a7-490a-810b-2ba35da65c72" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>grant_type=refresh_token&amp;client_id=${#Project#client_id}&amp;client_secret=${#Project#client_secret}&amp;refresh_token=${#TestSuite#refresh_token}</con:request><con:originalUri>http://localhost/api/authenticate</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="21d8a116-1e5d-4f50-85bf-572468599779" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a4aa4dc0-045a-469a-9984-d83e1bb93e52" name="access_token"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="72ca6ada-94ff-4cf1-bf1a-546e65a8be6a" name="refresh_token"><con:configuration><path>$.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="eef8cab7-c0cc-43a0-9a24-86a0b83c8802" name="expires_in"><con:configuration><path>$.expires_in</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="5d33ce8c-e728-4209-8975-3cbe66dfb6fc" name="token_type"><con:configuration><path>$.token_type</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="6643eef3-b655-41d8-afca-2afdad316670" name="userProfile"><con:configuration><path>userProfile</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="6a4e1ab4-217c-4468-a8a9-d60cba89d6c3" name="salt"><con:configuration><path>salt</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="fc6bc333-0c85-4b0c-adc5-d44c075e52ae" name="hasPassword"><con:configuration><path>hashedPassword</path><content>false</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>Content-Type</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:tearDownScript/><con:properties/></con:testCase><con:properties><con:property><con:name>username</con:name><con:value>SoapUI-1495195274346</con:value></con:property><con:property><con:name>password</con:name><con:value>123456</con:value></con:property><con:property><con:name>access_token</con:name><con:value>990c2047f8c8cfb41c75c5500b718010</con:value></con:property><con:property><con:name>project_id</con:name><con:value>591ede8d062095f3cee14239</con:value></con:property><con:property><con:name>new_project_name</con:name><con:value>New Project name - 1495195278034</con:value></con:property><con:property><con:name>project_currencies</con:name><con:value>["578c6ef6832cff3b2cca1395", "578c6ef6832cff3b2cca13aa", "578c6ef6832cff3b2cca139b", "578c6ef6832cff3b2cca13ab", "578c6ef6832cff3b2cca1397"]</con:value></con:property><con:property><con:name>project_mainCurrency</con:name><con:value>578c6ef6832cff3b2cca1397</con:value></con:property><con:property><con:name>project_category</con:name><con:value>591ede8e062095f3cee14248</con:value></con:property><con:property><con:name>refresh_token</con:name><con:value>f2156250872be051fa4e1bf10b9d1384</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>client_id</con:name><con:value>MKWebAppV1</con:value></con:property><con:property><con:name>client_secret</con:name><con:value>mbO2FdS451lEz0fM8FlSM3n1rbokBSyy</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>